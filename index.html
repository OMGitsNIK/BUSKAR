<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuskarðŸšŒ</title>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <link rel="stylesheet" type="text/css" href="./test1.css" />
    <!--     <script type="module" src="./test1.js"></script> -->
    <!--     <script type="module" src="./MapAPI(GLORY).js"></script> -->
    <link rel="stylesheet" type="text/css" href="st.css" />

</head>

<body>

    <!-- particles.js container -->
    <div id="particles-js"></div>
    <link rel="stylesheet" media="screen" href="./particles.js-master/demo/css/style.css">

    <!-- scripts -->
    <script src="./particles.js-master/particles.js"></script>
    <script src="./particles.js-master/demo/js/app.js"></script>

    <!-- stats.js -->
    <script src="js/lib/stats.js"></script>
    <script>
        var count_particles, stats, update;
        stats = new Stats;
        stats.setMode(0);
        stats.domElement.style.position = 'absolute';
        stats.domElement.style.left = '0px';
        stats.domElement.style.top = '0px';
        document.body.appendChild(stats.domElement);
        count_particles = document.querySelector('.js-count-particles');
        update = function () {
            stats.begin();
            stats.end();
            if (window.pJSDom[0].pJS.particles && window.pJSDom[0].pJS.particles.array) {
                count_particles.innerText = window.pJSDom[0].pJS.particles.array.length;
            }
            requestAnimationFrame(update);
        };
        requestAnimationFrame(update);
    </script>
    <div id="cursor"></div>
    <script>
        const cursor = document.getElementById("cursor")
        document.addEventListener('mousemove', (event) => {
            x = event.clientX
            y = event.clientY
            acc = event.c
            cursor.style.transform = `translateX(${x - 20}px) translateY(${y + (window.scrollY) - 20}px)`
            parallax(window.scrollY);
        });
        window.addEventListener("scroll", function () {
            parallax(window.scrollY);
        });
        function parallax(distance) {
            item.style.transform = `translateY(${(distance * -.05) - 100}px)`
            cursor.style.transform = `translateX(${x - 4}px) translateY(${y + (window.scrollY) - 4}px)`
        }

    </script>
    <style>
        #cursor {
            pointer-events: none;

            backdrop-filter: invert(1);
            z-index: 2;
            transition: 100ms ease;
            position: absolute;
            height: 40px;
            width: 40px;
            border-radius: 500px;
        }
    </style>
    <nav>
        <div id="logo">Buskar</div>
        <div class="links">
            <a href="./index.html">Home</a>
            <a href="./busabout.html">About</a>
            <a href="./mobile.html">Buskar pass</a>
            <a href="./mobileticket.html">Mobile Ticket</a>
            <a href="./wallet.html">Wallet</a>
            <a href="./Subpages/Account.html" id="profile"><span class="material-symbols-outlined">
                    account_circle
                </span></a>
        </div>
    </nav>

    <section id="mn">
        <!--          <p class="section--subtitle">The New Way Of Bus Travel</p>
         <br>
       <h1 class="section--title font--brightYellow margin--b20">
            In Your City
          </h1>
         <br> -->

        <div class="text" style="font-size:4vh;text-align: center;">

            <p class="font--grey margin--b20" style="font-size:4vh;text-align: center;">

                <br><br> <br><br>Our app is here to help travelers navigate through public transport with the confidence
                of a local and
                save time <span style="color: white; font-weight:800">Buskar</span> is India's <b>#1</b> bus transport
                technology
                company. Live track
                your bus on the Buskar App and get digital bus tickets.
                Your one stop solution for a convenient and hassle-free travel
                experience.
            </p>
            <DIv id="MAPHOLDER">
                <div id="mh2">
                    <div id="map" class="map"></div>
                </div>

            </DIv>

            <div class="btn"><button>Update Location</button></div>
            <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
            <script>
                var latitude;
                var longitude;
                const button = document.querySelector("button");

                var attribution = new ol.control.Attribution({
                    collapsible: false
                });

                var view = new ol.View({
                    center: ol.proj.fromLonLat([0, 0]),
                    maxZoom: 15,
                    zoom: 15
                });

                const source = new ol.source.OSM({
                    url: 'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
                });

                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showLoc, err);
                }

                function showLoc(position) {
                    latitude = position.coords.latitude;
                    longitude = position.coords.longitude;

                    console.log(latitude, longitude);
                    var source1 = new ol.source.Vector({
                        features: [
                            new ol.Feature({
                                geometry: new ol.geom.Point(ol.proj.fromLonLat([longitude, latitude])),
                            })
                        ]
                    })
                    var layer = new ol.layer.Vector({
                        source: source1
                    });
                    map.addLayer(layer);
                    view.setCenter(ol.proj.fromLonLat([longitude, latitude]));
                    view.animate({ zoom: view.getZoom() + 12 });
                }


                var map = new ol.Map({
                    controls: ol.control.defaults({ attribution: false }).extend([attribution]),
                    layers: [
                        new ol.layer.Tile({
                            source: source
                        })
                    ],
                    target: 'map',
                    view: view
                });

                function err(error) {
                    if (error.code == 1) {
                        alert("Something went wrong/ Permission Not Granted");
                    }
                    else if (error.code == 2) {
                        alert("Position Unavailable / Internal Error");
                    }
                    else if (error.code == 3) {
                        alert("Timeout Error");
                    }
                }

                button.addEventListener("click", () => {

                    window.location.reload();
                })



            </script>
            <!-- <button>get location</button> -->
            <script src="./geoloc.js"></script>
            <div id="map"></div>
            <!-- <button type="submit">Submit</button> -->
            <script
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBYoTrRkQHbmSyALfQMXFy6CHBkDDjTE0&callback=initMap&v=weekly"
                defer></script>
        </div>

    </section>

</body>

</html>